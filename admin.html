<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mitarbeiter Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #333;
            color: #fff;
        }

        .flex-container {
            display: flex;
            justify-content: space-between;
        }

        #lastSession {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .box {
            border: 1px solid #fff;
            padding: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #fff; border: 1px solid #63636380;">
        <div class="container">
            <a class="navbar-brand" href="#"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="Main.html">Startseite</a></li>
                    <li class="nav-item"><a class="nav-link" href="produkte.html">Produkte</a></li>
                    <li class="nav-item"><a class="nav-link" href="dienstleistungen.html">Dienstleistungen</a></li>
                    <li class="nav-item"><a class="nav-link" href="kontakt.html">Kontakt</a></li>
                    <li class="nav-item"><a class="nav-link" href="impressum.html">Impressum</a></li>
                    <li class="nav-item"><a class="nav-link" href="überUns.html">&Uuml;ber uns</a></li>
                    <li class="nav-item"><a class="nav-link" href="Info.html">Info</a></li>
                </ul>
            </div>
            <div class="ml-auto">
                <button id="logoutBtn" class="btn btn-outline-danger" type="button">Logout</button>
            </div>
        </div>
    </nav>
    

    <div class="container mt-5">
        <h1>Mitarbeiter Dashboard</h1>
        <div id="passwordPrompt" class="mt-4">
            <label for="password">Enter the password to access the panel:</label>
            <input type="password" id="password" class="form-control" required>
            <button id="loginBtn" class="btn btn-primary mt-2">Login</button>
        </div>

        <div id="contentArea" style="display: none;">
                <div class="mt-4">
                    <button id="addUserBtn" class="btn btn-primary mr-2">Add User</button>
                    <button id="deleteUserBtn" class="btn btn-danger mr-2">Delete User</button>
                    <button id="editUserBtn" class="btn btn-warning mr-2">Edit User</button>
                </div>

            <div id="productButtons" class="box" style="display: none;">
                <h3>Product Management</h3>
                <div class="mt-4">
                    <!-- Add product management buttons here -->
                    <button id="addProductBtn" class="btn btn-primary mr-2">Add Product</button>
                    <button id="deleteProductBtn" class="btn btn-danger mr-2">Delete Product</button>
                    <button id="editProductBtn" class="btn btn-warning mr-2">Edit Product</button>
                </div>
            </div>

            <div class="mt-4 flex-container">
                <div id="userList">
                    <h3>User List</h3>
                    <ul id="users">
                    </ul>
                </div>
                <div id="lastSession">
                    <h3>Last Session</h3>
                    <ul id="sessionTimes" style="list-style-type: none; padding: 0;">
                    </ul>
                </div>
            </div>

            <div id="tickets" class="mt-4" style="display: none;">
                <h3>Aktuelle Tickets</h3>
                <div class="mt-4">
                    <ul>
                        <!-- Hier werden zufällige Tickets generiert -->
                        <!-- Jedes Ticket hat einen Titel und eine Beschreibung -->
                        <li>
                            <strong>Brillenreparatur</strong>
                            <p>Die Bügel meiner Brille sind gebrochen und müssen repariert werden.</p>
                        </li>
                        <li>
                            <strong>Kontaktlinsenbestellung</strong>
                            <p>Ich benötige eine Nachbestellung meiner Kontaktlinsen.</p>
                        </li>
                        <li>
                            <strong>Augenuntersuchungstermin</strong>
                            <p>Ich möchte einen Termin für eine Augenuntersuchung vereinbaren.</p>
                        </li>
                        <!-- Neue Tickets für das Optikergeschäft -->
                        <li>
                            <strong>Sonnenbrillenberatung</strong>
                            <p>Ich brauche Hilfe bei der Auswahl einer Sonnenbrille.</p>
                        </li>
                        <li>
                            <strong>Sehtest</strong>
                            <p>Ich möchte meine Sehstärke überprüfen lassen.</p>
                        </li>
                        <li>
                            <strong>Brillenanpassung</strong>
                            <p>Meine Brille sitzt nicht richtig, ich benötige eine Anpassung.</p>
                        </li>
                        <li>
                            <strong>Gläseraustausch</strong>
                            <p>Ich möchte die Gläser meiner Brille austauschen lassen.</p>
                        </li>
                        <!-- Neue Tickets für die medizinische Abteilung -->
                        <li>
                            <strong>Lasik-Beratung</strong>
                            <p>Ich interessiere mich für eine Lasik-Operation und benötige Informationen.</p>
                        </li>
                        <li>
                            <strong>Netzhautuntersuchung</strong>
                            <p>Ich möchte meine Netzhaut auf Anomalien untersuchen lassen.</p>
                        </li>
                        <li>
                            <strong>Grüner Star Behandlung</strong>
                            <p>Ich leide an grünem Star und suche eine Behandlungsmöglichkeit.</p>
                        </li>
                        <li>
                            <strong>Kinderaugenuntersuchung</strong>
                            <p>Mein Kind hat Sehprobleme und benötigt eine Untersuchung.</p>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div id="inventory" class="mt-4" style="display: none;">
                <h3>Lagereinsicht</h3>
                <div class="mt-4">
                    <ul>
                        <!-- Hier werden zufällige Lagereinträge generiert -->
                        <!-- Jeder Lagereintrag hat einen Artikel und die verfügbare Menge -->
                        <li>
                            <strong>Sonnenbrillen</strong>
                            <p>Verfügbare Menge: 20 Stück</p>
                        </li>
                        <li>
                            <strong>Lesebrillen</strong>
                            <p>Verfügbare Menge: 15 Stück</p>
                        </li>
                        <li>
                            <strong>Kontaktlinsen</strong>
                            <p>Verfügbare Menge: 30 Paare</p>
                        </li>
                        <!-- Neue Lagereinträge für das Optikergeschäft -->
                        <li>
                            <strong>Sportbrillen</strong>
                            <p>Verfügbare Menge: 10 Stück</p>
                        </li>
                        <li>
                            <strong>Bildschirmarbeitsplatzbrillen</strong>
                            <p>Verfügbare Menge: 8 Stück</p>
                        </li>
                        <li>
                            <strong>Brillenputztücher</strong>
                            <p>Verfügbare Menge: 100 Stück</p>
                        </li>
                        <li>
                            <strong>Brillenetuis</strong>
                            <p>Verfügbare Menge: 50 Stück</p>
                        </li>
                        <!-- Neue Lagereinträge für die medizinische Abteilung -->
                        <li>
                            <strong>Tropfen gegen trockene Augen</strong>
                            <p>Verfügbare Menge: 25 Flaschen</p>
                        </li>
                        <li>
                            <strong>Augensalbe</strong>
                            <p>Verfügbare Menge: 20 Tuben</p>
                        </li>
                        <li>
                            <strong>Augenpflaster</strong>
                            <p>Verfügbare Menge: 30 Stück</p>
                        </li>
                        <li>
                            <strong>Augenbinde</strong>
                            <p>Verfügbare Menge: 10 Stück</p>
                        </li>
                    </ul>
                </div>
            </div>
            

        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function () {
            let loginAttempts = 0;
            const maxAttempts = 3;

            $("#loginBtn").click(function () {
                const password = $("#password").val();
                const expectedPassword = "super123!";

                if (password === expectedPassword) {
    $("#passwordPrompt").hide();
    $("#loginError").hide();
    $("#contentArea").show();
    $("#tickets").show(); // Show the Tickets section
    $("#inventory").show(); // Show the Inventory section

    // Generate and display 20 random user names
    const userNames = generateRandomNames(20);
    userNames.forEach(function (userName) {
        $("#users").append(`<li>${userName}</li>`);
    });

    // Generate and display artificial session times for each user
    const sessionTimes = generateRandomSessionTimes(20);
    sessionTimes.forEach(function (sessionTime) {
        $("#sessionTimes").append(`<li>${sessionTime}</li>`);
    });
                } else {
                    loginAttempts++;
                    const remainingAttempts = maxAttempts - loginAttempts;
                    if (remainingAttempts > 0) {
                        alert(`Falsches Passwort! Sie haben noch ${remainingAttempts} Versuch(e) übrig.`);
                    }
                    if (loginAttempts >= maxAttempts) {
                        sessionStorage.removeItem("isLoggedIn");
                        window.location.href = "Main.html";
                    }
                }
            });

            $("#logoutBtn").click(function () {
            sessionStorage.removeItem("isLoggedIn");
            window.location.href = "Main.html";
            });
        });

        function generateRandomNames(count) {
            const names = [
                "Emma", "Liam", "Olivia", "Noah", "Ava", "William", "Sophia", "James", "Isabella", "Oliver",
                "Charlotte", "Elijah", "Amelia", "Benjamin", "Mia", "Lucas", "Harper", "Mason", "Evelyn", "Logan",
                "Abigail", "Alexander", "Emily", "Ethan", "Elizabeth", "Michael", "Avery", "Daniel", "Sofia"
            ];

            const randomNames = [];
            for (let i = 0; i < count; i++) {
                const randomIndex = Math.floor(Math.random() * names.length);
                randomNames.push(names[randomIndex]);
            }
            return randomNames;
        }

        function generateRandomSessionTimes(count) {
            const sessionTimes = [];
            const now = new Date();
            for (let i = 0; i < count; i++) {
                const randomPastTime = new Date(now - Math.floor(Math.random() * 30 * 24 * 60 * 60 * 1000));
                sessionTimes.push(randomPastTime.toLocaleString());
            }
            return sessionTimes;
        }
    </script>

    <script>
        $(document).ready(function () {
            const isLoggedIn = sessionStorage.getItem("isLoggedIn");
            if (!isLoggedIn) {
                window.location.href = "Main.html";
            }
        });

        $(document).on("click", "#logoutBtn", function () {
            sessionStorage.removeItem("isLoggedIn");
            window.location.href = "Main.html";
        });

        $(document).ready(function () {
            $("#addUserBtn").click(function () {
                const newUser = prompt("Enter the name of the new user:");
                if (newUser) {
                    $("#users").append(`<li>${newUser}</li>`);
                    alert(`User "${newUser}" added successfully.`);
                }
            });

            $("#deleteUserBtn").click(function () {
                const userToDelete = prompt("Enter the name of the user to delete:");
                if (userToDelete) {
                    $(`#users li:contains('${userToDelete}')`).remove();
                    alert(`User "${userToDelete}" deleted successfully.`);
                }
            });

            $("#editUserBtn").click(function () {
                const oldUserName = prompt("Enter the name of the user to edit:");
                if (oldUserName) {
                    const newUserName = prompt("Enter the new name for the user:");
                    if (newUserName) {
                        $(`#users li:contains('${oldUserName}')`).text(newUserName);
                        alert(`User "${oldUserName}" edited successfully.`);
                    }
                }
            });

            // Add functionality for product management buttons if needed
        });
    </script>

</body>

</html>
