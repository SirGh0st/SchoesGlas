<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mitarbeiter Panel</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    body {
        background-color: #333; 
        color: #fff;
    }
    .flex-container {
        display: flex;
        justify-content: space-between;
    }
    #lastSession {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
  </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light"
    style="background-color: #fff; border: 1px solid #63636380;">
    <div class="container">
        <a class="navbar-brand" href="#"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="Main.html">Startseite</a></li>
                <li class="nav-item"><a class="nav-link" href="produkte.html">Produkte</a></li>
 
                <li class="nav-item"><a class="nav-link" href="dienstleistungen.html">Dienstleistungen</a></li>
                <li class="nav-item"><a class="nav-link" href="kontakt.html">Kontakt</a></li>
                <li class="nav-item"><a class="nav-link" href="impressum.html">Impressum</a></li>
                <li class="nav-item"><a class="nav-link" href="überUns.html">&Uuml;ber uns</a></li>
                <li class="nav-item"><a class="nav-link" href="Info.html">Info</a></li>
            </ul>
        </div>
    </div>
 </nav>

<div class="container mt-5">
    <h1>Admin Panel</h1>
    <div id="passwordPrompt" class="mt-4">
        <label for="password">Enter the password to access the panel:</label>
        <input type="password" id="password" class="form-control" required>
        <button id="loginBtn" class="btn btn-primary mt-2">Login</button>
    </div>

    <div id="contentArea" style="display: none;">
        <button id="logoutBtn" class="btn btn-danger mt-2">Logout</button>

        <div class="mt-4">
            <button id="addUserBtn" class="btn btn-primary mr-2">Add User</button>
            <button id="deleteUserBtn" class="btn btn-danger mr-2">Delete User</button>
            <button id="editUserBtn" class="btn btn-warning mr-2">Edit User</button>
        </div>

        <div class="mt-4 flex-container">
            <div id="userList">
                <h3>User List</h3>
                <ul id="users">
                </ul>
            </div>
            <div id="lastSession">
                <h3>Last Session</h3>
                <ul id="sessionTimes" style="list-style-type: none; padding: 0;">
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
   $(document).ready(function() {
    let loginAttempts = 0;
    const maxAttempts = 3;

    $("#loginBtn").click(function() {
        const password = $("#password").val();
        const expectedPassword = "super123!";

        if (password === expectedPassword) {
            $("#passwordPrompt").hide();
            $("#loginError").hide();
            $("#contentArea").show();

            // Generate and display 20 random user names
            const userNames = generateRandomNames(20);
            userNames.forEach(function(userName) {
                $("#users").append(`<li>${userName}</li>`);
            });

            // Generate and display artificial session times for each user
            const sessionTimes = generateRandomSessionTimes(20);
            sessionTimes.forEach(function(sessionTime) {
                $("#sessionTimes").append(`<li>${sessionTime}</li>`);
            });
        } else {
            loginAttempts++;
            const remainingAttempts = maxAttempts - loginAttempts;
            if (remainingAttempts > 0) {
                alert(`Falsches Passwort! Sie haben noch ${remainingAttempts} Versuch(e) übrig.`);
            }
            if (loginAttempts >= maxAttempts) {
                sessionStorage.removeItem("isLoggedIn");
                window.location.href = "Main.html";
            }
        }
    });

    $("#logoutBtn").click(function() {
        sessionStorage.removeItem("isLoggedIn");
        window.location.href = "Main.html";
    });
});

function generateRandomNames(count) {
    const names = [
        "Emma", "Liam", "Olivia", "Noah", "Ava", "William", "Sophia", "James", "Isabella", "Oliver",
        "Charlotte", "Elijah", "Amelia", "Benjamin", "Mia", "Lucas", "Harper", "Mason", "Evelyn", "Logan",
        "Abigail", "Alexander", "Emily", "Ethan", "Elizabeth", "Michael", "Avery", "Daniel", "Sofia"
    ];

    const randomNames = [];
    for (let i = 0; i < count; i++) {
        const randomIndex = Math.floor(Math.random() * names.length);
        randomNames.push(names[randomIndex]);
    }
    return randomNames;
}

function generateRandomSessionTimes(count) {
    const sessionTimes = [];
    const now = new Date();
    for (let i = 0; i < count; i++) {
        const randomPastTime = new Date(now - Math.floor(Math.random() * 30 * 24 * 60 * 60 * 1000)); 
        sessionTimes.push(randomPastTime.toLocaleString());
    }
    return sessionTimes;
}

</script>

<script>
    $(document).ready(function() {
        const isLoggedIn = sessionStorage.getItem("isLoggedIn");
        if (!isLoggedIn) {
            window.location.href = "Main.html"; 
        }
    });
    
    $(document).on("click", "#logoutBtn", function() {
        sessionStorage.removeItem("isLoggedIn");
        window.location.href = "Main.html";
    });
    
    $(document).ready(function() {
        $("#addUserBtn").click(function() {
            const newUser = prompt("Enter the name of the new user:");
            if (newUser) {
                $("#users").append(`<li>${newUser}</li>`);
                alert(`User "${newUser}" added successfully.`);
            }
        });
    
        $("#deleteUserBtn").click(function() {
            const userToDelete = prompt("Enter the name of the user to delete:");
            if (userToDelete) {
                $(`#users li:contains('${userToDelete}')`).remove();
                alert(`User "${userToDelete}" deleted successfully.`);
            }
        });
    
        $("#editUserBtn").click(function() {
            const oldUserName = prompt("Enter the name of the user to edit:");
            if (oldUserName) {
                const newUserName = prompt("Enter the new name for the user:");
                if (newUserName) {
                    $(`#users li:contains('${oldUserName}')`).text(newUserName);
                    alert(`User "${oldUserName}" edited successfully.`);
                }
            }
        });
    });
    </script>

</body>
</html>
